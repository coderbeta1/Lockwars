def updatemobility(state):
    unlockedsettled=[[-26, 11, -28, -15, -28, 9], [-27, 11, -21, -16, -22, 9], [-28, 8, -21, -19, -23, 11], [-28, 12, -21, -18, -22, 11], [-29, 9, -22, -16, -12, 8], [-30, 5, -16, -12, -6, 6], [-26, 10, -16, -16, -25, 8], [-34, -3, -22, -25, -29, 12], [-25, 12, -17, -9, -22, 8], [-26, 10, -15, -8, -23, 10], [-28, 12, -17, -9, -22, 12], [-31, 8, -20, -11, -16, 11], [-31, 4, -14, -6, -2, 9], [-29, 8, -18, -13, -21, 12], [-27, 11, -16, -9, -21, 12], [-27, 11, -20, -9, -18, 12], [-28, 9, -19, -11, -19, 13], [-28, 13, -19, -10, -18, 13], [-30, 9, -20, -9, -8, 11], [-30, 5, -13, -5, 0, 9], [-27, 11, -16, -11, -18, 12], [-27, 9, -17, -10, -21, 12], [-25, 13, -19, -7, -16, 12], [-24, 15, -15, -5, -19, 11], [-22, 16, -8, -10, -36, 15], [-31, 5, -16, -11, -14, 12], [-31, 0, -10, -4, 0, 8], [-26, 10, -14, -9, -19, 12], [-27, 9, -15, -9, -21, 12], [-25, 12, -17, -7, -17, 12]]
    unlockedlist= [[-65, -4, -53, -41, -35, 17], [-65, -4, -53, -40, -37, 16], [-65, -4, -54, -40, -35, 17], [-64, -4, -53, -39, -35, 16], [-62, -2, -52, -39, -34, 17], [-63, -5, -55, -39, -26, 15], [-67, -14, -58, -41, -14, 12], [-59, 2, -51, -38, -32, 15], [-59, 0, -51, -37, -34, 15], [-58, 2, -51, -35, -32, 15], [-57, 2, -49, -36, -33, 15], [-57, 6, -50, -36, -33, 15], [-59, -1, -53, -37, -29, 15], [-64, -12, -56, -39, -14, 12], [-56, 3, -49, -37, -33, 15], [-57, 1, -48, -37, -34, 14], [-56, 3, -50, -35, -33, 14], [-57, -1, -49, -38, -34, 15], [-57, 1, -50, -38, -34, 15], [-59, -4, -53, -38, -25, 13], [-68, -25, -58, -47, -18, 15], [-55, 4, -49, -37, -34, 15], [-56, 3, -48, -36, -36, 15], [-56, 2, -50, -36, -33, 14], [-58, -2, -49, -38, -34, 15], [-58, 1, -49, -38, -33, 15], [-60, -5, -53, -39, -29, 14], [-65, -17, -57, -42, -16, 12], [-57, -1, -49, -39, -33, 15], [-55, 0, -48, -38, -35, 14], [-56, 0, -49, -38, -33, 14], [-56, -2, -48, -39, -34, 15], [-57, 0, -49, -39, -33, 16], [-59, -5, -53, -40, -26, 14], [-68, -23, -57, -48, -20, 14], [-56, -1, -49, -40, -33, 15], [-56, -2, -48, -39, -35, 15], [-56, -3, -50, -39, -32, 15], [-57, -4, -49, -40, -33, 15], [-57, -1, -50, -39, -33, 16], [-61, -12, -54, -43, -32, 16], [-71, -30, -58, -51, -22, 15], [-55, 0, -49, -40, -33, 15], [-58, -5, -49, -41, -36, 16], [-59, -9, -51, -41, -34, 17], [-59, -10, -50, -42, -35, 17], [-59, -7, -50, -41, -34, 17], [-64, -18, -54, -44, -30, 17], [-71, -32, -58, -51, -23, 15], [-58, -9, -50, -43, -36, 17], [-59, -11, -50, -42, -37, 17], [-57, -6, -51, -39, -33, 16], [-59, -13, -51, -43, -36, 17], [-57, -4, -48, -39, -32, 16], [-64, -21, -54, -45, -33, 18], [-70, -31, -57, -49, -22, 15], [-56, -6, -48, -39, -33, 16], [-57, -9, -49, -39, -35, 16], [-57, -10, -51, -40, -35, 16], [-54, -1, -47, -37, -33, 15], [-54, 0, -47, -37, -34, 16], [-59, -13, -51, -41, -36, 16], [-61, -16, -54, -42, -19, 12], [-55, -6, -45, -39, -47, 15], [-55, -8, -48, -39, -36, 14], [-54, -18, -56, -43, -34, 15], [-51, -11, -53, -39, -32, 14], [-50, -5, -51, -37, -29, 12], [-56, -19, -57, -43, -29, 14], [-62, -29, -59, -45, -15, 11], [-46, -2, -51, -36, -30, 12], [-48, -6, -51, -37, -34, 13], [-49, -10, -53, -39, -36, 15], [-50, -12, -52, -39, -32, 14], [-47, -4, -51, -35, -29, 13], [-56, -20, -55, -43, -42, 16], [-61, -28, -59, -45, -15, 11], [-46, -4, -50, -35, -28, 12], [-47, -5, -49, -35, -29, 12], [-47, -5, -51, -34, -28, 13], [-49, -10, -52, -37, -31, 13], [-47, -2, -51, -34, -30, 14], [-56, -19, -55, -40, -34, 15], [-61, -29, -57, -43, -14, 11], [-45, -2, -48, -33, -28, 12], [-45, -4, -48, -33, -29, 12], [-46, -4, -50, -32, -26, 12], [-48, -10, -49, -36, -29, 13], [-46, -3, -48, -33, -27, 13], [-52, -13, -52, -36, -22, 12], [-58, -24, -54, -40, -12, 11], [-45, -7, -47, -35, -31, 13], [-44, -3, -45, -32, -32, 12], [-44, -3, -48, -31, -27, 12], [-44, -4, -47, -33, -28, 13], [-43, 0, -47, -31, -27, 13], [-46, -5, -49, -31, -18, 11], [-51, -14, -51, -33, -11, 10], [-43, -5, -47, -34, -30, 13], [-42, 1, -44, -29, -29, 11], [-43, -2, -46, -29, -26, 12], [-43, -3, -45, -30, -28, 12], [-43, -8, -47, -34, -30, 14], [-42, -6, -48, -31, -23, 12], [-46, -13, -49, -31, -9, 10], [-38, -3, -44, -31, -26, 13], [-39, -3, -44, -30, -28, 13], [-38, -1, -45, -28, -25, 13], [-39, -10, -45, -34, -30, 15], [-38, -3, -45, -31, -26, 15], [-40, -7, -47, -30, -17, 13], [-44, -13, -48, -31, -6, 11], [-36, -5, -43, -31, -27, 14], [-39, -4, -42, -29, -28, 15], [-41, -5, -44, -28, -27, 16], [-41, -5, -42, -28, -27, 17], [-43, -5, -44, -29, -27, 18], [-43, -5, -44, -27, -19, 16], [-45, -10, -42, -25, -7, 13], [-40, -2, -41, -28, -26, 17], [-40, -2, -41, -26, -28, 16], [-39, 1, -45, -24, -27, 14], [-39, 2, -46, -24, -29, 12], [-38, 7, -44, -28, -47, 16], [-40, 1, -47, -24, -21, 10], [-43, -4, -45, -23, -13, 8], [-36, 4, -44, -24, -29, 11], [-36, 4, -44, -23, -30, 11], [-36, 6, -45, -22, -26, 11], [-36, 5, -44, -24, -26, 12], [-35, 7, -43, -24, -24, 13], [-38, 2, -45, -25, -20, 13], [-40, -2, -43, -23, -7, 10], [-34, 5, -42, -24, -25, 13], [-35, 4, -42, -24, -27, 14], [-33, 8, -43, -22, -24, 13], [-32, 9, -42, -21, -25, 14], [-31, 18, -41, -19, -23, 14], [-36, 8, -44, -20, -15, 13], [-36, 2, -41, -18, -4, 10], [-31, 10, -39, -20, -24, 14], [-32, 8, -40, -20, -26, 13], [-29, 11, -41, -18, -23, 12], [-29, 11, -39, -18, -25, 11], [-28, 18, -38, -16, -27, 11], [-31, 12, -38, -16, -24, 10], [-34, 3, -37, -15, -10, 7], [-29, 8, -34, -21, -37, 11], [-29, 9, -37, -18, -29, 10], [-29, 9, -40, -17, -25, 10], [-29, 7, -39, -19, -27, 10], [-30, 11, -40, -21, -32, 13], [-34, 3, -41, -21, -17, 10], [-33, 3, -39, -16, -5, 8], [-28, 10, -38, -19, -24, 11], [-26, 13, -37, -18, -27, 11], [-28, 10, -40, -19, -24, 12], [-29, 8, -38, -21, -24, 11], [-29, 12, -38, -20, -23, 11], [-29, 10, -38, -18, -13, 10], [-29, 8, -36, -15, -2, 8], [-26, 13, -36, -20, -24, 11], [-24, 15, -35, -18, -26, 11], [-22, 20, -36, -14, -22, 10], [-18, 28, -33, -12, -24, 9], [-15, 40, -31, -8, -29, 10], [-34, 11, -37, -23, -44, 16], [-39, -9, -36, -23, -24, 10], [-30, 3, -29, -22, -48, 12], [-28, 9, -30, -17, -35, 9], [-27, 11, -32, -15, -29, 9], [-27, 11, -31, -16, -28, 10], [-28, 13, -31, -17, -29, 11], [-31, 6, -33, -17, -19, 9], [-32, 3, -32, -14, -9, 7], [-27, 11, -32, -18, -26, 10], [-27, 11, -32, -17, -28, 10], [-28, 9, -34, -17, -28, 10], [-33, 0, -35, -23, -31, 12], [-29, 11, -33, -18, -26, 10], [-29, 9, -34, -17, -17, 9], [-31, 4, -31, -14, -6, 7], [-27, 9, -29, -20, -34, 11]]
    lockedlist=[[-68, -48, -44, -64, -65, 25], [-77, -64, -53, -73, -72, 30], [-76, -64, -51, -73, -70, 30], [-77, -64, -52, -73, -70, 31], [-78, -65, -54, -73, -66, 29], [-77, -65, -57, -71, -47, 22], [-76, -63, -51, -74, -68, 30], [-75, -63, -50, -73, -68, 29], [-76, -64, -52, -73, -68, 29], [-76, -65, -51, -74, -69, 30], [-76, -62, -51, -73, -67, 30], [-77, -64, -53, -73, -61, 28], [-77, -65, -56, -71, -43, 21], [-76, -63, -50, -73, -68, 30], [-78, -53, -46, -67, -67, 28], [-78, -52, -48, -68, -67, 29], [-78, -54, -48, -68, -68, 30], [-79, -53, -48, -69, -69, 32], [-80, -55, -52, -69, -64, 30], [-79, -56, -54, -67, -44, 22], [-78, -53, -48, -69, -66, 31], [-78, -55, -47, -69, -69, 30], [-78, -51, -48, -66, -64, 29], [-85, -44, -60, -65, -65, 30], [-85, -43, -60, -65, -65, 31], [-87, -50, -66, -67, -60, 28], [-86, -50, -68, -65, -42, 22], [-86, -47, -62, -67, -63, 30], [-85, -47, -62, -66, -64, 29], [-86, -46, -63, -66, -63, 29], [-86, -47, -62, -66, -64, 30], [-85, -44, -63, -66, -63, 30], [-86, -46, -65, -66, -59, 29], [-86, -51, -68, -66, -41, 22], [-85, -47, -62, -67, -62, 31], [-85, -46, -61, -66, -63, 28], [-85, -44, -62, -64, -61, 29], [-84, -43, -60, -64, -61, 29], [-85, -43, -62, -65, -64, 30], [-85, -44, -64, -64, -54, 27], [-85, -46, -67, -63, -37, 21], [-81, -35, -60, -61, -56, 27], [-81, -35, -60, -59, -56, 26], [-79, -30, -60, -56, -54, 25], [-79, -31, -59, -57, -56, 26], [-79, -28, -59, -56, -52, 26], [-80, -32, -62, -57, -49, 25], [-82, -39, -65, -58, -32, 19], [-78, -28, -58, -56, -50, 25], [-78, -28, -57, -55, -52, 24], [-77, -26, -58, -53, -49, 23], [-77, -27, -57, -54, -49, 23], [-76, -22, -56, -52, -48, 23], [-77, -25, -59, -52, -41, 22], [-79, -32, -63, -54, -27, 17], [-74, -21, -56, -52, -45, 22], [-73, -20, -56, -50, -46, 21], [-72, -21, -57, -49, -44, 21], [-72, -20, -56, -49, -44, 21], [-72, -17, -56, -48, -42, 21], [-72, -18, -59, -48, -37, 19], [-76, -28, -61, -50, -24, 15], [-71, -19, -55, -51, -51, 22], [-70, -16, -54, -46, -42, 19], [-69, -13, -55, -45, -39, 19], [-69, -14, -54, -46, -40, 19], [-69, -10, -54, -45, -38, 19], [-69, -12, -58, -44, -29, 17], [-73, -22, -61, -46, -16, 14]]
    lockedsettled=[[-72, -20, -56, -49, -44, 21], [-72, -17, -56, -48, -42, 21], [-72, -18, -59, -48, -37, 19], [-76, -28, -61, -50, -24, 15], [-71, -19, -55, -51, -51, 22], [-70, -16, -54, -46, -42, 19], [-69, -13, -55, -45, -39, 19], [-69, -14, -54, -46, -40, 19], [-69, -10, -54, -45, -38, 19], [-69, -12, -58, -44, -29, 17], [-73, -22, -61, -46, -16, 14]]
    d={'industrial':4,'appartment':5,'bungalow':5,'govt':4,'amusement':0,'school':4,'daily':4,'research':4,'shopping':0,'farming':4,'hospital':5,'tour':3,'coat':4,'sports':0}
    for i in state:
        if i in d:
            if state[i]['locked']:
                if state[i]['daysincelock']<=72:
                    state[i]['mobility']=state[i]['mobilitybaseline']*(100+lockedlist[state[i]['daysincelock']][d[i]])//100
                else:
                    state[i]['mobility']=state[i]['mobilitybaseline']*(100+lockedsettled[state[i]['daysincelock']%10][d[i]])//100
            elif state[i]['lockedcount']>0 and state[i]['daysinceunlock']>184:
                state[i]['mobility']=state[i]['mobilitybaseline']*(100+unlockedsettled[state[i]['daysincelock']%31][d[i]])//100
            elif state[i]['lockedcount']>0:
                state[i]['mobility']=state[i]['mobilitybaseline']*(100+unlockedlist[state[i]['daysincelock']][d[i]])//100
            else:
                pass

    return state

